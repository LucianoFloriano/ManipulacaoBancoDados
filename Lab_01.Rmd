---
title: "Lab_01"
author: "Luciano"
date: "2025-08-07"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Leitura das tabelas
```{r}
library(tidyverse)
data("table1")
data("table2")
data("table3")
data("table4a")
data("table4b")
```
Apresente os bancos de dados table1, table2, table3, table4a e table4b, distribuídos juntamente com o pacote tidyverse. Para cada banco de dados, descreva textualmente se ele está no formato tidy e justifique cada uma de suas respostas.



A primeira tabela está no formato tidy, uma vez que suas informações estão organizadas de acordo com cada coluna.
```{r}
table1
```


Já a segunda tabela os casos e a população estão numa mesma coluna (type), portanto não está no formato tidy
```{r}
table2
```
Na terceira tabela novamente não está no formato tidy, pois a coluna "rate" possui duas informações.
```{r}
table3
```

Na quarta tabela (a), os anos estão separados em dois, que podem ser unidos em uma só coluna.
```{r}
table4a
```

Na quarta tabela (b) o mesmo problema da anterior.
```{r}
table4b
```


Utilizando comandos do pacote dplyr, determine a taxa de ocorrência de tuberculose para cada 10.000 pessoas. Armazene o resultado em um objeto chamado taxas.
```{r}
taxas <- table1 %>%  mutate(taxa = (cases / population) * 10000) %>% select(country, year, taxa)
```

Apresente, utilizando comandos do pacote dplyr, o número de casos de tuberculose por ano.
```{r}
casos_tuberculose <- table1  %>% select(country, year, cases)
```

Apresente, utilizando comandos do pacote dplyr, o número de casos de tuberculose identificados em cada país.
```{r}
casos_tuberculose_pais <- table1 %>% group_by(country) %>% summarise(total_casos = sum(cases))
```

Utilizando comandos do pacote dplyr, apresente uma tabela que descreva a mudança no número de casos, em cada país, ao longo dos anos de 1999 e 2000.
```{r}

```

Apresente um gráfico de linhas, preparado via ggplot2, apresentando a mudança na taxa de casos (por 10.000 habitantes) estratificado por país.
```{r}

```


Calcule a taxa para as tabelas table2 e table4a+table4b. Para isso, você precisará executar 4 passos:
```{r}

```


Extrair o número de casos de tuberculose por país, por ano;
```{r}

```

Extrair o tamanho da população correspondente, por ano;
```{r}

```

Dividir o número de casos pelo tamanho da população e multiplicar o resultado por 10.000;
```{r}

```

Armazenar o resultado numa variável apropriada;
```{r}

```

Refaça o gráfico da questão 7 para os dados apresentados em table2.
```{r}

```


Utilizando o comando pivot_longer, transforme table4a em um objeto no formato tidy. Armazene o resultado num objeto chamado tidy4a.
```{r}

```


Refaça o item 10 para o objeto table4b. Armazene o resultado num objeto chamado tidy4b.
```{r}

```


Combine os objetos tidy4a e tidy4b em um único objeto, utilizando o comando left_join. Apresente uma explicação textual sobre o que faz o referido comando.
```{r}

```


Use o comando pivot_wider para tranformar o objeto table2 em um objeto com formato tidy.
```{r}

```


Observe que a coluna rate do objeto table3 é um texto mostrando a fração que formaria a taxa de casos de tuberculose. Transforme o objeto table3 em um objeto com formato tidy separando a coluna 3 em duas outras colunas: cases e population, utilizando o comando separate. Utilize o argumento convert para transformar o resultado em um objeto numérico.
